<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Mobile viewport tuned for iOS Safari -->
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Merchant Services Solutions</title>
  <!-- Cache bust: 20241201-2045 -->
  
  <!-- Cache busting meta tags -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Preload data -->
  <link rel="preload" href="data/solutions.json?v=1.2.4&t=20241201" as="fetch" crossorigin="anonymous">

  <!-- Baseline tweaks -->
  <style>
    html, body { height: 100%; }
    button, a { touch-action: manipulation; }
    .scroll-lock { overflow: hidden; height: 100%; }
    .modal-scroll { -webkit-overflow-scrolling: touch; }
    
    /* Cyberpunk color scheme and effects */
    :root {
      --primary-gradient: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
      --secondary-gradient: linear-gradient(135deg, #001122 0%, #003366 100%);
      --neon-blue: #00bfff;
      --neon-cyan: #00ffff;
      --neon-glow: #0080ff;
      --dark-bg: #000000;
      --card-bg: #0a0a0a;
      --accent-blue: #00bfff;
      --accent-cyan: #00ffff;
      --accent-glow: #0080ff;
      --text-primary: #ffffff;
      --text-secondary: #b0b0b0;
    }
    
    /* 3D Button Effects with Neon Glow */
    .btn-3d {
      position: relative;
      transform: translateY(0);
      transition: all 0.3s ease;
      background: linear-gradient(145deg, #1a1a1a, #0a0a0a);
      border: 1px solid var(--neon-blue);
      box-shadow: 
        0 6px 20px rgba(0, 0, 0, 0.9),
        0 0 25px rgba(0, 191, 255, 0.4),
        inset 0 2px 4px rgba(255, 255, 255, 0.1),
        inset 0 -2px 4px rgba(0, 0, 0, 0.3);
      cursor: pointer;
    }
    
    /* Backlighting effect for pressable buttons */
    .btn-3d::before {
      content: '';
      position: absolute;
      top: -4px;
      left: -4px;
      right: -4px;
      bottom: -4px;
      background: linear-gradient(45deg, 
        rgba(0, 191, 255, 0.1), 
        rgba(0, 255, 255, 0.1), 
        rgba(0, 191, 255, 0.1));
      border-radius: inherit;
      z-index: -1;
      opacity: 0;
      transition: opacity 0.3s ease;
      filter: blur(8px);
    }
    
    .btn-3d:hover::before {
      opacity: 1;
    }
    
    .btn-3d:hover {
      transform: translateY(-4px);
      box-shadow: 
        0 10px 35px rgba(0, 0, 0, 0.95),
        0 0 50px rgba(0, 191, 255, 0.7),
        0 0 70px rgba(0, 191, 255, 0.4),
        inset 0 2px 4px rgba(255, 255, 255, 0.2),
        inset 0 -2px 4px rgba(0, 0, 0, 0.2);
      border-color: var(--neon-cyan);
    }
    
    .btn-3d:active {
      transform: translateY(-1px);
      box-shadow: 
        0 3px 15px rgba(0, 0, 0, 0.9),
        0 0 20px rgba(0, 191, 255, 0.5),
        inset 0 2px 4px rgba(255, 255, 255, 0.1),
        inset 0 -2px 4px rgba(0, 0, 0, 0.4);
    }
    
    /* Cyberpunk glass effect */
    .glass {
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(15px);
      border: 1px solid var(--neon-blue);
      box-shadow: 
        0 0 20px rgba(0, 191, 255, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    }
    
    /* Cyberpunk card styling */
    .modern-card {
      background: linear-gradient(145deg, #0a0a0a, #1a1a1a);
      border: 1px solid var(--neon-blue);
      box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.8),
        0 0 20px rgba(0, 191, 255, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }
    
    .modern-card:hover {
      transform: translateY(-4px);
      box-shadow: 
        0 12px 40px rgba(0, 0, 0, 0.9),
        0 0 30px rgba(0, 191, 255, 0.4),
        0 0 50px rgba(0, 191, 255, 0.2);
      border-color: var(--neon-cyan);
    }
    
    /* Neon gradient text */
    .gradient-text {
      background: linear-gradient(45deg, var(--neon-blue), var(--neon-cyan));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 0 10px rgba(0, 191, 255, 0.5);
    }
    
    /* Neon pulse animation */
    .pulse-glow {
      animation: neon-pulse 2s infinite;
    }
    
    @keyframes neon-pulse {
      0%, 100% { 
        box-shadow: 0 0 20px rgba(0, 191, 255, 0.4);
        border-color: var(--neon-blue);
      }
      50% { 
        box-shadow: 0 0 40px rgba(0, 191, 255, 0.8), 0 0 60px rgba(0, 191, 255, 0.4);
        border-color: var(--neon-cyan);
      }
    }
  </style>

  <!-- Chevron stepper styles -->
  <style>
    /* Layout & rounding for the three tabs */
    #stepper { 
      display: flex !important; 
      gap: 0 !important; 
      width: 100% !important; 
      position: relative !important;
      max-width: 100% !important;
      min-width: 100% !important;
    }
    
    /* Mobile-specific stepper fixes */
    @media (max-width: 768px) {
      #stepper {
        width: 100vw !important;
        max-width: 100vw !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
        padding-left: 0 !important;
        padding-right: 0 !important;
      }
      
      /* Ensure container doesn't constrain stepper on mobile */
      .mx-auto.max-w-5xl {
        max-width: 100% !important;
        padding-left: 1rem !important;
        padding-right: 1rem !important;
      }
    }
    #stepper > * { 
      margin: 0 !important; 
      position: relative !important; 
      z-index: 2 !important;
    }
    #stepper > :first-child { 
      border-top-left-radius: 0.75rem !important; 
      border-bottom-left-radius: 0.75rem !important; 
      border-top-right-radius: 0 !important;
      border-bottom-right-radius: 0 !important;
    }
    #stepper > :nth-child(2) { 
      border-radius: 0 !important; 
      margin-left: -1px !important;
      margin-right: -1px !important;
    }
    #stepper > :last-child { 
      border-top-right-radius: 0.75rem !important; 
      border-bottom-right-radius: 0.75rem !important; 
      border-top-left-radius: 0 !important;
      border-bottom-left-radius: 0 !important;
    }

    /* Simple stepper styling */
   .step-chev {
  position: relative !important;
  padding: 0.5rem 1rem !important;
  flex: 1 1 0 !important;            /* each tab gets equal width */
  text-align: center !important;     /* center the label */
  border-radius: 0.75rem !important; /* rounded corners to match app aesthetic */
  transition: all 0.2s ease !important; /* smooth transitions */
  cursor: default !important;        /* not clickable */
  font-weight: 500 !important;       /* lighter font weight */
}

    /* States (your JS can toggle .active/.inactive) */
    .step-chev.inactive { background: transparent; }
    .step-chev.active   { background: rgba(30,41,59,.6); /* slate-800/60 */ }
  </style>
</head>

<body class="min-h-screen font-sans text-white" style="background: linear-gradient(135deg, #000000 0%, #0a0a0a 50%, #1a1a1a 100%);">
  <div class="mx-auto max-w-5xl p-4 pb-[env(safe-area-inset-bottom)]">

    <!-- Header -->
    <header class="relative mb-6 rounded-3xl glass p-4 sm:p-6 text-white shadow-2xl pr-32 md:pr-44" style="background: linear-gradient(135deg, #001122 0%, #003366 50%, #001a33 100%);">
      <div class="flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
        <div class="flex-1 min-w-0">
          <h1 class="text-3xl md:text-4xl font-extrabold tracking-tight">
            Merchant Services Solutions
          </h1>
          <p class="text-sm md:text-base text-slate-200/80">
            Find the perfect product
          </p>
        </div>
      </div>

      <!-- Logo (bottom-right; never blocks clicks) -->
      <img
        src="https://static.wixstatic.com/media/e80bbd_a8148979599e4221be758a561140d67a~mv2.png"
        alt="SignaPay Southeast"
        class="absolute bottom-2 right-3 h-12 w-auto sm:h-14 md:h-16 opacity-90 hover:opacity-100 transition pointer-events-none z-0" />
    </header>

    <!-- Controls row: chevron stepper + buttons -->
    <div class="mb-4 space-y-3">
      <!-- Stepper -->
      <nav id="stepper" class="flex gap-0 text-[11px] sm:text-xs w-full">
        <div class="step-chev active  border px-3 py-2 flex-1">1. Business type</div>
        <div class="step-chev inactive border px-3 py-2 flex-1">2. Needs</div>
        <div class="step-chev last inactive border px-3 py-2 flex-1">3. Solutions</div>
      </nav>

      <!-- Buttons row -->
      <div class="flex items-center justify-center gap-2">
        <button id="searchModeBtn" type="button"
                class="btn-3d rounded-full glass px-4 py-2 text-xs font-medium
                       border border-white/20 shadow-lg text-white
                       hover:bg-white/20 hover:brightness-110 transition-all duration-200">
          üîç Search
        </button>
        <button id="resetBtn" type="button"
                class="btn-3d rounded-full glass px-4 py-2 text-xs font-medium
                       border border-white/20 shadow-lg text-white
                       hover:bg-white/20 hover:brightness-110 transition-all duration-200">
          Reset
        </button>
      </div>
    </div>

    <!-- Search Bar (hidden by default) -->
    <div id="searchContainer" class="mb-4 hidden">
      <div class="relative">
        <input id="searchInput" type="text" 
               placeholder="Search for solutions (e.g., 'Clover', 'mobile payments', 'inventory')..."
               class="w-full px-4 py-3 pl-12 rounded-2xl glass border border-cyan-400/50 
                      bg-black/50 text-white placeholder-slate-400
                      focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20 focus:outline-none
                      transition-all duration-200">
        <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-cyan-400">
          üîç
        </div>
        <button id="clearSearchBtn" type="button" 
                class="absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-white transition-colors">
          ‚úï
        </button>
      </div>
      <div id="searchResults" class="mt-2 text-sm text-slate-400">
        <!-- Search results count will appear here -->
      </div>
    </div>

    <!-- Prompt line -->
   <p id="categoryPrompt" class="mt-3 mb-2 text-sm text-slate-300 flex items-center justify-center gap-2">
  <span class="inline-block h-2 w-2 rounded-full pulse-glow" style="background: var(--neon-blue); box-shadow: 0 0 10px var(--neon-blue);"></span>
  <span id="promptText" class="gradient-text font-medium">What type of business are you working with today?</span>
</p>


    <!-- Step 1 -->
    <section id="step1" class="grid grid-cols-1 gap-3 md:grid-cols-2"></section>

    <!-- Step 2 -->
    <section id="step2" class="hidden">
      <div class="mb-4 flex items-center justify-between">
        <h2 class="text-lg font-semibold text-slate-100" id="needsTitle">What does this need?</h2>
        <div class="flex gap-2">
          <button id="selectAll" type="button" class="btn-3d rounded-xl glass px-4 py-2 text-xs font-medium border border-white/20 hover:bg-white/20 transition-all duration-200">Select All</button>
          <button id="clearAll"  type="button" class="btn-3d rounded-xl glass px-4 py-2 text-xs font-medium border border-white/20 hover:bg-white/20 transition-all duration-200">Clear</button>
        </div>
      </div>
      <div id="needsGrid" class="grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3"></div>
      <div class="mt-6 flex justify-end gap-2">
        <button id="backTo1" type="button" class="btn-3d rounded-xl glass px-4 py-2 text-sm font-medium border border-white/20 hover:bg-white/20 transition-all duration-200">Back</button>
        <button id="toStep3" type="button" class="btn-3d rounded-xl px-6 py-3 text-lg font-bold text-white transition-all duration-200" style="background: linear-gradient(135deg, #001122 0%, #003366 100%); border: 2px solid var(--neon-blue); box-shadow: 0 0 25px rgba(0, 191, 255, 0.4);">See Solutions</button>
      </div>
    </section>

    <!-- Step 3 -->
    <section id="step3" class="hidden">
      <div class="mb-4 flex items-center justify-between">
        <h2 class="text-lg font-semibold text-slate-100">Recommended solutions</h2>
        <button id="adjustNeeds" type="button" class="btn-3d rounded-xl glass px-4 py-2 text-xs font-medium border border-white/20 hover:bg-white/20 transition-all duration-200">Adjust Needs</button>
      </div>
      <div id="solutionsGrid" class="grid grid-cols-1 gap-4 md:grid-cols-2"></div>
    </section>

    <!-- Modal -->
    <div id="modal" class="fixed inset-0 z-50 hidden items-end md:items-center md:justify-center" role="dialog" aria-modal="true">
      <div class="absolute inset-0 bg-slate-900/70" id="modalBackdrop" tabindex="-1"></div>
      <div class="relative w-full max-w-3xl rounded-t-3xl bg-slate-900 p-6 shadow-2xl ring-1 ring-slate-700 md:rounded-3xl max-h-[85vh] overflow-y-auto modal-scroll">
        <div class="mb-4 flex items-start justify-between gap-4">
          <div>
            <h3 class="text-xl font-bold text-slate-100" id="modalTitle"></h3>
            <p class="text-sm text-slate-400">Comprehensive analysis</p>
          </div>
          <button id="modalClose" type="button" class="btn-3d rounded-full glass px-4 py-2 text-sm font-medium text-white border border-white/20 hover:bg-white/20 transition-all duration-200">Close</button>
        </div>

        <div class="mb-4 flex flex-wrap gap-2" id="modalLinks"></div>

        <div class="mb-6 grid grid-cols-1 gap-4 md:grid-cols-2">
          <div class="rounded-2xl border-2 border-green-500 bg-green-900/40 p-4" style="box-shadow: 0 0 20px rgba(34, 197, 94, 0.3);">
            <h4 class="mb-2 text-sm font-bold text-green-300">Matches your selected needs</h4>
            <ul id="modalMatches" class="list-inside list-disc text-sm text-green-200"></ul>
          </div>
          <div class="rounded-2xl border-2 border-red-500 bg-red-900/40 p-4" style="box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);">
            <h4 class="mb-2 text-sm font-bold text-red-300">Not covered</h4>
            <ul id="modalMisses" class="list-inside list-disc text-sm text-red-200"></ul>
          </div>
        </div>

        <!-- Special Blocks (data-driven) -->
        <div id="specialBlocksSection" class="hidden mt-4 rounded-2xl border border-cyan-500 bg-slate-800/80 p-4" style="box-shadow: 0 0 20px rgba(0, 191, 255, 0.2);">
          <ul id="specialBlocksList" class="grid grid-cols-1 gap-2 md:grid-cols-2"></ul>
        </div>

        <!-- Legacy terminal details (kept for reference) -->
        <div id="terminalDetails" class="hidden mt-4 rounded-2xl border border-cyan-500 bg-slate-800/80 p-4" style="box-shadow: 0 0 20px rgba(0, 191, 255, 0.2);">
          <h4 class="mb-2 text-sm font-bold text-cyan-300">Available SignaPay terminal models</h4>
          <ul class="grid grid-cols-1 gap-2 md:grid-cols-2">
            <li class="rounded-lg border border-slate-700 p-3 text-sm">
              <div class="font-medium">Valor VL100 / VL100 Pro</div>
              <div class="text-xs text-slate-400">Countertop ¬∑ EMV, NFC, Wi-Fi/Ethernet</div>
              <a href="https://valorpaytech.com/what-we-do/hardware-products/countertop-pos/vl100-pro/" target="_blank" rel="noreferrer" class="mt-2 inline-block text-xs font-medium text-blue-300 underline">Official page ‚Üó</a>
            </li>
            <li class="rounded-lg border border-slate-700 p-3 text-sm">
              <div class="font-medium">Dejavoo QD4</div>
              <div class="text-xs text-slate-400">Android countertop ¬∑ EMV, NFC, Ethernet/Wi-Fi</div>
              <a href="https://dejavoo.io/products/qd-terminals-family/qd4/" target="_blank" rel="noreferrer" class="mt-2 inline-block text-xs font-medium text-blue-300 underline">Official page ‚Üó</a>
            </li>
            <li class="rounded-lg border border-slate-700 p-3 text-sm">
              <div class="font-medium">PAX A80</div>
              <div class="text-xs text-slate-400">Android countertop ¬∑ EMV, NFC, Ethernet/Wi-Fi</div>
              <a href="https://www.paxtechnology.com/a80" target="_blank" rel="noreferrer" class="mt-2 inline-block text-xs font-medium text-blue-300 underline">Official page ‚Üó</a>
            </li>
            <li class="rounded-lg border border-slate-700 p-3 text-sm">
              <div class="font-medium">Dejavoo P3 (Wireless)</div>
              <div class="text-xs text-slate-400">Handheld LTE/Wi-Fi ¬∑ EMV, NFC, built-in printer</div>
              <a href="https://dejavoo.io/products/p-terminals-family/p3/" target="_blank" rel="noreferrer" class="mt-2 inline-block text-xs font-medium text-blue-300 underline">Official page ‚Üó</a>
            </li>
          </ul>
        </div>

        <div id="shift4Details" class="hidden mt-4 rounded-2xl border border-cyan-500 bg-slate-800/80 p-4" style="box-shadow: 0 0 20px rgba(0, 191, 255, 0.2);">
          <h4 class="mb-2 text-sm font-bold text-cyan-300">Shift4 desktop terminals</h4>
          <ul class="grid grid-cols-1 gap-2 md:grid-cols-2">
            <li class="rounded-lg border border-slate-700 p-3 text-sm">
              <div class="font-medium">Countertop EMV/NFC terminals</div>
              <div class="text-xs text-slate-400">Secure EMV chip, PIN, contactless, receipt printing</div>
              <a href="https://www.shift4network.com/credit-card-terminals/" target="_blank" rel="noreferrer" class="mt-2 inline-block text-xs font-medium text-blue-300 underline">Shift4 terminals ‚Üó</a>
            </li>
          </ul>
        </div>

        <div class="mt-4" id="allFeaturesBlock">
          <h4 class="mb-2 text-sm font-bold text-cyan-300">All features</h4>
          <div id="allFeatures" class="flex flex-wrap gap-2"></div>
        </div>
      </div>
    </div>

    <!-- Footer bar -->
    <footer class="mx-auto mt-10 flex items-center justify-between text-xs text-slate-400">
      <div class="opacity-80">Powered by ArtificialSuperIntelligence.AI</div>
      <a href="admin.html"
         class="btn-3d inline-flex items-center gap-1 rounded-md glass px-4 py-2 text-sm font-medium border border-white/20 hover:bg-white/20 transition-all duration-200">
        Admin
      </a>
    </footer>
  </div>

    <script>
      // Dynamic cache busting
      const timestamp = Date.now();
      const script = document.createElement('script');
      script.src = `app.js?v=1.2.4&t=${timestamp}&cache=bust`;
      document.head.appendChild(script);
    </script>
</body>
</html>
